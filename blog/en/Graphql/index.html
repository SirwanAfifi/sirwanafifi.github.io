<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.13.4"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://sirwan.info/blog/en/Graphql/"><!-- Primary Meta Tags --><title>GraphQL</title><meta name="title" content="GraphQL"><meta name="description" content="Recently I have been working on a node stack project as a full stack JavaScript developer, it's a great experience because I'm working with talented developers. We use TypeScript on both backend and frontend which is great because I'm coming from a .NET background and couldn’t be happier; Well we have types for our JS code :) ..."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://sirwan.info/blog/en/Graphql/"><meta property="og:title" content="GraphQL"><meta property="og:description" content="Recently I have been working on a node stack project as a full stack JavaScript developer, it's a great experience because I'm working with talented developers. We use TypeScript on both backend and frontend which is great because I'm coming from a .NET background and couldn’t be happier; Well we have types for our JS code :) ..."><meta property="og:image" content="https://sirwan.info/img/graphql_logo.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://sirwan.info/blog/en/Graphql/"><meta property="twitter:title" content="GraphQL"><meta property="twitter:description" content="Recently I have been working on a node stack project as a full stack JavaScript developer, it's a great experience because I'm working with talented developers. We use TypeScript on both backend and frontend which is great because I'm coming from a .NET background and couldn’t be happier; Well we have types for our JS code :) ..."><meta property="twitter:image" content="https://sirwan.info/img/graphql_logo.png"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/assets/about.Bt-aXDuf.css">
<link rel="stylesheet" href="/assets/about.7yE1AjT0.css">
<style>a[data-astro-cid-eimmu3lg]{display:inline-block;text-decoration:none}a[data-astro-cid-eimmu3lg].active{font-weight:bolder;text-decoration:underline}
footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em;background:linear-gradient(var(--gray-gradient)) no-repeat;color:rgb(var(--gray));text-align:center}.social-links[data-astro-cid-sz7xmlte]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]:hover{color:rgb(var(--gray-dark))}
</style><script type="module" src="/assets/hoisted.D-2wbxhY.js"></script></head> <body class="antialiased bg-zinc-900"> <header class="mb-30"> <nav class="w-full z-20 top-0 start-0 border-b border-gray-200 text-white dark:text-emerald-400"> <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"> <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse"></a> <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse"></div> <div class="items-center justify-between w-full md:flex md:w-auto md:order-1"> <ul class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0"> <li> <a href="/" data-astro-cid-eimmu3lg> Home </a>  </li><li> <a href="/blog/en" data-astro-cid-eimmu3lg> Blog </a>  </li><li> <a href="/about" data-astro-cid-eimmu3lg> About </a>  </li><li> <a href="/now" data-astro-cid-eimmu3lg> What I&#39;m Doing Now? </a>  </li> </ul> </div> </div> </nav> </header> <main> <article>  <div class="prose m-auto p-4"> <div class="title"> <div class="date">  </div> <h1 class="block gradient-title-en">GraphQL</h1> <hr class="m-2"> </div> <div class="space-x-1 text-sm text-gray-500 mb-2 flex flex-wrap items-center"> 6 years ago - &nbsp;<time datetime="2018-10-28T23:46:37.121Z">October 28, 2018</time> </div> <div class="tags"> <span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">GraphQL</span><span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">API</span> </div> <section class="main-body text-zinc-400">  <p>Recently I have been working on a node stack project as a full stack JavaScript developer, it’s a great experience because I’m working with talented developers. We use TypeScript on both backend and frontend which is great because I’m coming from a .NET background and couldn’t be happier; Well we have types for our JS code :) But sometimes TypeScript drives me crazy for example when working with existing React libraries there are no type declarations and a lot of TypeScript’s benefits disappear so we have to write our own <code>.d.ts</code> file but it is worth it :) On the backend we use GraphQL for our APIs, so in this post, I explain my observation about this technology.</p>
<h3 id="whats-graphql">What’s GraphQL?</h3>
<img class="center-image img-res" src="/img/graphql.jpg" alt="GraphQL">
<p>GraphQL is a query language for any kind of API and can fulfil any queries across multiple databases. The main benefit of using it is that you can ask for exactly what you want and you will get the result and nothing else. In this case, clients describe what they want their data and shape of it. The good point is that requests are validated against so-called <code>Schema</code>, we create this schema on our server, it basically describes the functionality available to our clients, inside this schema, we define our type definitions:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> User</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    id: ID!</span></span>
<span class="line"><span style="color:#E1E4E8">    firstName: String</span></span>
<span class="line"><span style="color:#E1E4E8">    lastName: String</span></span>
<span class="line"><span style="color:#E1E4E8">    age: Int</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Query</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    users: [User]</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>In the schema, we need a top-level type called <code>Query</code>. The server defines the queries it can accept. So, in this case, we’re saying we need to return a list of users, the result is an array of type User.</p>
<h3 id="resolvers">Resolvers</h3>
<p>Now we need a <code>Resolver</code> to figure out what we get back when we call <code>users</code> query. Resolvers are basically some functions that respond to queries and mutations, they are the functions that give us the results from a query.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> root</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  users</span><span style="color:#E1E4E8">: () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"Sirwan"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"Afifi"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"User 2"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"lastName2"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"User 3"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"lastName3"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"User 4"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"lastName4"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"User 5"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"lastName5"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"User 6"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"lastName6"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"User 7"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"lastName7"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">      { id: </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">, firstName: </span><span style="color:#9ECBFF">"User 8"</span><span style="color:#E1E4E8">, lastName: </span><span style="color:#9ECBFF">"lastName8"</span><span style="color:#E1E4E8">, age: </span><span style="color:#79B8FF">20</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">    ];</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span></code></pre>
<p>Now we can query the <code>users</code> to get the result, the query gets parsed and executed against a data source on the server and the server sends back the result as JSON:</p>
<img class="center-image img-res" src="/img/graphiQL.png" alt="GraphiQL">
<p>As you can see we have intellisense for our API. In fact, GraphQL is more like TypeScript for our API, by using it we have awesome static type analyze. In traditional REST we had many requests but with GraphQL we only have one single endpoint.</p>
<h3 id="mutation-types">Mutation types</h3>
<p>The query type is responsible for defining what will return when we call the query. With mutation type, we can mutate (change, create) data.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">input UserInput {</span></span>
<span class="line"><span style="color:#B392F0">    id</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">ID</span><span style="color:#F97583">!</span></span>
<span class="line"><span style="color:#B392F0">    firstName</span><span style="color:#E1E4E8">: String</span></span>
<span class="line"><span style="color:#B392F0">    lastName</span><span style="color:#E1E4E8">: String</span></span>
<span class="line"><span style="color:#B392F0">    age</span><span style="color:#E1E4E8">: Int</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Mutation</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    createUser(input: UserInput): User</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<p>The great point about a mutation is that we mutate something and we also ask for something in the result, that’s why we can specify a return type for a mutation, in this case, it’s <code>User</code>:</p>
<img class="center-image img-res" src="/img/graphQL-mutation.png" alt="GraphiQL">
<p>GraphQL is a convenient way for a client to communicate with the server, There is much more to talk about this technology so I will pick up again in my next article.</p>  </section> <hr> </div> </article> </main> <footer data-astro-cid-sz7xmlte> <span class="text-zinc-600 dark:text-zinc-400" data-astro-cid-sz7xmlte>
&copy; 2024 Sirwan Afifi. All rights reserved.
</span> <div class="social-links" data-astro-cid-sz7xmlte> <a href="https://twitter.com/SirwanAfifi" target="_blank" data-astro-cid-sz7xmlte> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/twitter" class="fill-zinc-500 hover:fill-white transition-colors duration-200" data-astro-cid-sz7xmlte><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://github.com/SirwanAfifi" target="_blank" data-astro-cid-sz7xmlte> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" class="fill-zinc-500 hover:fill-white tr" data-astro-cid-sz7xmlte><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  </body></html>