<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.13.4"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://sirwan.info/blog/fa/different-ways-of-adding-your-signature-on-a-pdf/"><!-- Primary Meta Tags --><title>Different ways of adding your signature on a PDF</title><meta name="title" content="Different ways of adding your signature on a PDF"><meta name="description" content="My coworker wrote some Python code to add a signature on PDFs. Since Python isn't my thing, I wrote the same code in a few of my favorite languages. Probably because I haven't used Python in production or because of its wired syntax (Maybe I only like curly-brace languages). Anyway, here's the Python code I mentioned:"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://sirwan.info/blog/fa/different-ways-of-adding-your-signature-on-a-pdf/"><meta property="og:title" content="Different ways of adding your signature on a PDF"><meta property="og:description" content="My coworker wrote some Python code to add a signature on PDFs. Since Python isn't my thing, I wrote the same code in a few of my favorite languages. Probably because I haven't used Python in production or because of its wired syntax (Maybe I only like curly-brace languages). Anyway, here's the Python code I mentioned:"><meta property="og:image" content="https://sirwan.info/blog-placeholder-1.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://sirwan.info/blog/fa/different-ways-of-adding-your-signature-on-a-pdf/"><meta property="twitter:title" content="Different ways of adding your signature on a PDF"><meta property="twitter:description" content="My coworker wrote some Python code to add a signature on PDFs. Since Python isn't my thing, I wrote the same code in a few of my favorite languages. Probably because I haven't used Python in production or because of its wired syntax (Maybe I only like curly-brace languages). Anyway, here's the Python code I mentioned:"><meta property="twitter:image" content="https://sirwan.info/blog-placeholder-1.jpg"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/assets/about.BrEw3eNp.css">
<link rel="stylesheet" href="/assets/about.vwAuAIlu.css">
<style>a[data-astro-cid-eimmu3lg]{display:inline-block;text-decoration:none}a[data-astro-cid-eimmu3lg].active{font-weight:bolder;text-decoration:underline}
footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em;background:linear-gradient(var(--gray-gradient)) no-repeat;color:rgb(var(--gray));text-align:center}.social-links[data-astro-cid-sz7xmlte]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]:hover{color:rgb(var(--gray-dark))}
</style><script type="module" src="/assets/hoisted.D-2wbxhY.js"></script></head> <body class="antialiased bg-zinc-900"> <header class="mb-30"> <nav class="w-full z-20 top-0 start-0 border-b border-gray-200 text-white dark:text-emerald-400"> <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"> <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse"></a> <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse"></div> <div class="items-center justify-between w-full md:flex md:w-auto md:order-1"> <ul class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0"> <li> <a href="/" data-astro-cid-eimmu3lg> Home </a>  </li><li> <a href="/blog/en" data-astro-cid-eimmu3lg> Blog </a>  </li><li> <a href="/about" data-astro-cid-eimmu3lg> About </a>  </li><li> <a href="/now" data-astro-cid-eimmu3lg> /now </a>  </li> </ul> </div> </div> </nav> </header> <main> <article>  <div class="prose m-auto p-4"> <div class="title"> <div class="date">  </div> <h1 class="block gradient-title-en">Different ways of adding your signature on a PDF</h1> <hr class="m-2"> </div> <div class="space-x-1 text-sm text-gray-500 mb-2 flex flex-wrap items-center"> 2 years ago - &nbsp;<time datetime="2022-11-27T23:46:37.121Z">November 27, 2022</time> </div> <div class="tags"> <span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">C#</span><span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">PowerShell</span><span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">Python</span><span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">Perl</span><span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">Golang</span><span class="text-gray-400 text-xs font-medium me-2 px-2.5 py-0.5 rounded border-dashed border-2 border-emerald-500">Bash</span> </div> <section class="main-body text-zinc-400">  <p>My coworker wrote some Python code to add a signature on PDFs. Since Python isn’t my thing, I wrote the same code in a few of my favorite languages. Probably because I haven’t used Python in production or because of its wired syntax (Maybe I only like curly-brace languages). Anyway, here’s the Python code I mentioned:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> PyPDF2</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> fpdf </span><span style="color:#F97583">import</span><span style="color:#79B8FF"> FPDF</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> time</span></span>
<span class="line"><span style="color:#E1E4E8">​</span></span>
<span class="line"><span style="color:#E1E4E8">output_file </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "merged.pdf"</span></span>
<span class="line"><span style="color:#E1E4E8">watermark_file </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "converted.pdf"</span></span>
<span class="line"><span style="color:#E1E4E8">​</span></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> convert_to_pdf</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    path_to_image </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'image to add: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pdf </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> FPDF()</span></span>
<span class="line"><span style="color:#E1E4E8">    pdf.add_page()</span></span>
<span class="line"><span style="color:#E1E4E8">    pdf.image(path_to_image,</span><span style="color:#79B8FF">130</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">270</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">75</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">25</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pdf.output(</span><span style="color:#9ECBFF">'converted.pdf'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">​</span></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> merge_pdf</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    input_file </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> input</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Path to target pdf: '</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    with</span><span style="color:#79B8FF"> open</span><span style="color:#E1E4E8">(input_file, </span><span style="color:#9ECBFF">"rb"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> filehandle_input:</span></span>
<span class="line"><span style="color:#6A737D">    # read content of the original file</span></span>
<span class="line"><span style="color:#E1E4E8">        pdf </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> PyPDF2.PdfFileReader(filehandle_input)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        with</span><span style="color:#79B8FF"> open</span><span style="color:#E1E4E8">(watermark_file, </span><span style="color:#9ECBFF">"rb"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> filehandle_watermark:</span></span>
<span class="line"><span style="color:#6A737D">            # read content of the watermark</span></span>
<span class="line"><span style="color:#E1E4E8">            watermark </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> PyPDF2.PdfFileReader(filehandle_watermark)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">            # get first page of the original PDF</span></span>
<span class="line"><span style="color:#E1E4E8">            first_page </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pdf.getPage(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">            # get first page of the watermark PDF</span></span>
<span class="line"><span style="color:#E1E4E8">            first_page_watermark </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> watermark.getPage(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">            # merge the two pages</span></span>
<span class="line"><span style="color:#E1E4E8">            first_page.merge_page(first_page_watermark)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">            # create a pdf writer object for the output file</span></span>
<span class="line"><span style="color:#E1E4E8">            pdf_writer </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> PyPDF2.PdfFileWriter()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">            # add page</span></span>
<span class="line"><span style="color:#E1E4E8">            pdf_writer.addPage(first_page)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">            with</span><span style="color:#79B8FF"> open</span><span style="color:#E1E4E8">(output_file, </span><span style="color:#9ECBFF">"wb"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> filehandle_output:</span></span>
<span class="line"><span style="color:#6A737D">                # write the watermarked file to the new file</span></span>
<span class="line"><span style="color:#E1E4E8">                pdf_writer.write(filehandle_output)</span></span>
<span class="line"><span style="color:#E1E4E8">​</span></span>
<span class="line"><span style="color:#E1E4E8">convert_to_pdf()</span></span>
<span class="line"><span style="color:#E1E4E8">time.sleep(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">merge_pdf()</span></span>
<span class="line"></span></code></pre>
<p>There’s nothing complicated about the code. A PDF is created by converting the image into a PDF and merging it with the PDF that needs to have a signature.</p>
<h2 id="powershell">PowerShell</h2>
<p>I will start with the PowerShell version, I have used <a href="https://github.com/VahidN/iTextSharp.LGPLv2.Core">iTextSharp</a>, which is a .NET library to work with PDFs. The code is pretty straightforward:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#79B8FF">Add-Type</span><span style="color:#F97583"> -</span><span style="color:#E1E4E8">Path </span><span style="color:#9ECBFF">"*.dll"</span></span>
<span class="line"><span style="color:#E1E4E8">$pdf </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">iTextSharp.text.pdf.PdfReader</span><span style="color:#E1E4E8">]::new(</span><span style="color:#9ECBFF">"</span><span style="color:#F97583">$</span><span style="color:#9ECBFF">(</span><span style="color:#79B8FF">Get-Location</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">/invoice.pdf"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">$fs </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">System.IO.FileStream</span><span style="color:#E1E4E8">]::new(</span><span style="color:#9ECBFF">"</span><span style="color:#F97583">$</span><span style="color:#9ECBFF">(</span><span style="color:#79B8FF">Get-Location</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">/signed-invoice.pdf"</span><span style="color:#F97583">,</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#F97583">System.IO.FileMode</span><span style="color:#E1E4E8">]::Create)</span></span>
<span class="line"><span style="color:#E1E4E8">$stamper </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">iTextSharp.text.pdf.PdfStamper</span><span style="color:#E1E4E8">]::new($pdf</span><span style="color:#F97583">,</span><span style="color:#E1E4E8"> $fs)</span></span>
<span class="line"><span style="color:#E1E4E8">$content </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> $stamper.GetOverContent(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">$width </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> $pdf.GetPageSize(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">).Width</span></span>
<span class="line"><span style="color:#E1E4E8">$image </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">iTextSharp.text.Image</span><span style="color:#E1E4E8">]::GetInstance(</span><span style="color:#9ECBFF">"</span><span style="color:#F97583">$</span><span style="color:#9ECBFF">(</span><span style="color:#79B8FF">Get-Location</span><span style="color:#9ECBFF">)</span><span style="color:#9ECBFF">/sign.jpg"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">$image.SetAbsolutePosition($width </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 130</span><span style="color:#F97583">,</span><span style="color:#79B8FF"> 50</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">$image.ScaleAbsolute(</span><span style="color:#79B8FF">100</span><span style="color:#F97583">,</span><span style="color:#79B8FF"> 30</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">$content.AddImage($image)</span></span>
<span class="line"><span style="color:#E1E4E8">$stamper.Close()</span></span>
<span class="line"><span style="color:#E1E4E8">$pdf.Close()</span></span>
<span class="line"><span style="color:#E1E4E8">$fs.Dispose()</span></span>
<span class="line"></span></code></pre>
<h2 id="c">C#</h2>
<p>The C# version is almost the same as the PowerShell one. I have used the same library, iTextSharp:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">using</span><span style="color:#B392F0"> iTextSharp</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#B392F0"> iTextSharp</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">text</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">pdf</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> pdfReader</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> PdfReader</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"../invoice.pdf"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> outStream</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> FileStream</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"../signed-invoice.pdf"</span><span style="color:#E1E4E8">, FileMode.Create);</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> pdfStamper</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> PdfStamper</span><span style="color:#E1E4E8">(pdfReader, outStream);</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> content</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> pdfStamper.</span><span style="color:#B392F0">GetOverContent</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> width</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> pdfReader.</span><span style="color:#B392F0">GetPageSize</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">).Width;</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> baseDir</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> AppDomain.CurrentDomain.BaseDirectory.</span><span style="color:#B392F0">Split</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">new</span><span style="color:#E1E4E8">[] { </span><span style="color:#9ECBFF">"bin"</span><span style="color:#E1E4E8"> }, StringSplitOptions.None)[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> signFile</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Path.</span><span style="color:#B392F0">Combine</span><span style="color:#E1E4E8">(baseDir, </span><span style="color:#9ECBFF">".."</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"sign.jpg"</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> image</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Image.</span><span style="color:#B392F0">GetInstance</span><span style="color:#E1E4E8">(signFile);</span></span>
<span class="line"><span style="color:#E1E4E8">image.</span><span style="color:#B392F0">SetAbsolutePosition</span><span style="color:#E1E4E8">(width </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 130</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">50</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">image.</span><span style="color:#B392F0">ScaleAbsolute</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">content.</span><span style="color:#B392F0">AddImage</span><span style="color:#E1E4E8">(image);</span></span>
<span class="line"><span style="color:#E1E4E8">pdfStamper.</span><span style="color:#B392F0">Close</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">pdfReader.</span><span style="color:#B392F0">Close</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">outStream.</span><span style="color:#B392F0">Close</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span></code></pre>
<p>Both versions use the <code>PdfReader</code> class to open a PDF file, then use <code>PdfStamper</code> to create a new PDF file. <code>PdfStamper</code> adds content to an existing PDF. Then we have added the image to the PDF using the <code>AddImage</code> method.</p>
<h2 id="golang">Golang</h2>
<p>As you can see the Golang version is pretty short. It uses the <code>pdft</code> library to add the signature to the PDF. I could have removed the error handling to make it even shorter.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="go"><code><span class="line"><span style="color:#F97583">package</span><span style="color:#B392F0"> main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#9ECBFF">	"</span><span style="color:#B392F0">io/ioutil</span><span style="color:#9ECBFF">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">	"</span><span style="color:#B392F0">github.com/signintech/pdft</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">func</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">	var</span><span style="color:#E1E4E8"> pt </span><span style="color:#B392F0">pdft</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">PDFt</span></span>
<span class="line"><span style="color:#E1E4E8">	err </span><span style="color:#F97583">:=</span><span style="color:#E1E4E8"> pt.</span><span style="color:#B392F0">Open</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"../invoice.pdf"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">	if</span><span style="color:#E1E4E8"> err </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> nil</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">		panic</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Couldn't open pdf."</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">	}</span></span>
<span class="line"><span style="color:#E1E4E8">	pic, err </span><span style="color:#F97583">:=</span><span style="color:#E1E4E8"> ioutil.</span><span style="color:#B392F0">ReadFile</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"../sign.jpg"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">	if</span><span style="color:#E1E4E8"> err </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> nil</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">		panic</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Couldn't read pic."</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">	}</span></span>
<span class="line"><span style="color:#E1E4E8">	err </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pt.</span><span style="color:#B392F0">InsertImg</span><span style="color:#E1E4E8">(pic, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1950.0</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">2450.0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">400</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">	if</span><span style="color:#E1E4E8"> err </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> nil</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">		panic</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Couldn't insert image"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">	}</span></span>
<span class="line"><span style="color:#E1E4E8">	err </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pt.</span><span style="color:#B392F0">Save</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"../signed-invoice.pdf"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">	if</span><span style="color:#E1E4E8"> err </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> nil</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">		panic</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Couldn't save pdf."</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">	}</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span></code></pre>
<h2 id="perl">Perl</h2>
<p>The Perl version is also pretty short. It uses the <code>PDF::API2</code> library to add the signature to the PDF:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="perl"><code><span class="line"><span style="color:#F97583">use</span><span style="color:#E1E4E8"> PDF::API2;</span></span>
<span class="line"><span style="color:#F97583">my</span><span style="color:#E1E4E8"> $pdf = PDF::API2</span><span style="color:#F97583">-></span><span style="color:#79B8FF">open</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'../invoice.pdf'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">my</span><span style="color:#E1E4E8"> $img = $pdf</span><span style="color:#F97583">-></span><span style="color:#E1E4E8">image_jpeg(</span><span style="color:#9ECBFF">'../sign.jpg'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">my</span><span style="color:#E1E4E8"> $page = $pdf</span><span style="color:#F97583">-></span><span style="color:#E1E4E8">openpage(1);</span></span>
<span class="line"><span style="color:#F97583">my</span><span style="color:#E1E4E8"> $gfx = $page</span><span style="color:#F97583">-></span><span style="color:#E1E4E8">gfx;</span></span>
<span class="line"><span style="color:#E1E4E8">$gfx</span><span style="color:#F97583">-></span><span style="color:#E1E4E8">image($img, 1950, 3200, 400, 100);</span></span>
<span class="line"><span style="color:#E1E4E8">$pdf</span><span style="color:#F97583">-></span><span style="color:#E1E4E8">saveas(</span><span style="color:#9ECBFF">'../signed-invoice.pdf'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span></code></pre>
<h2 id="bash">Bash</h2>
<p>The Bash version is the shortest one. It uses the <code>pdftk</code> command to add the signature to the PDF. The Bash version’s signature must be in PDF format rather than an image, which means that it overlays the stamp PDF page on top of the input PDF document’s pages, like a background:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">pdftk</span><span style="color:#9ECBFF"> ./invoice.pdf</span><span style="color:#9ECBFF"> stamp</span><span style="color:#9ECBFF"> ./a4-sign.pdf</span><span style="color:#9ECBFF"> output</span><span style="color:#9ECBFF"> signed-invoice.pdf</span></span>
<span class="line"></span></code></pre>  </section> <hr> </div> </article> </main> <footer data-astro-cid-sz7xmlte> <span class="text-zinc-600 dark:text-zinc-400" data-astro-cid-sz7xmlte>
&copy; 2024 Sirwan Afifi. All rights reserved.
</span> <div class="social-links" data-astro-cid-sz7xmlte> <a href="https://twitter.com/SirwanAfifi" target="_blank" data-astro-cid-sz7xmlte> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/twitter" class="fill-zinc-500 hover:fill-white transition-colors duration-200" data-astro-cid-sz7xmlte><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://github.com/SirwanAfifi" target="_blank" data-astro-cid-sz7xmlte> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" class="fill-zinc-500 hover:fill-white tr" data-astro-cid-sz7xmlte><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  </body></html>